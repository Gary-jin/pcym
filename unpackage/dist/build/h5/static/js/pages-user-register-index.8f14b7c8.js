(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-user-register-index"],{"1bf5":function(a,r,e){var t=e("24fb");r=t(!1),r.push([a.i,'@charset "UTF-8";\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 页面宽度 */.card-wrapper .card-wrap .card-body .form-item[data-v-3b515046], .card-wrapper .card-wrap .card-body .form-item.agreement uni-label[data-v-3b515046], .card-wrapper .card-wrap .card-footer[data-v-3b515046]{display:flex;align-items:center}uni-page-body[data-v-3b515046]{background-color:#f5f5f5}.card-wrapper[data-v-3b515046]{width:660px;margin:80px auto;background-color:#fff}.card-wrapper .card-wrap[data-v-3b515046]{width:332px;margin:0 auto;padding-bottom:20px}.card-wrapper .card-wrap .card-header[data-v-3b515046]{text-align:center}.card-wrapper .card-wrap .card-header .logo[data-v-3b515046]{width:48px;height:48px;margin-bottom:40px}.card-wrapper .card-wrap .card-header .title[data-v-3b515046]{font-size:30px;color:#333;line-height:1.5}.card-wrapper .card-wrap .card-body[data-v-3b515046]{display:block;margin-top:22px}.card-wrapper .card-wrap .card-body .form-item[data-v-3b515046]{height:45px;line-height:45px;margin-bottom:14px;border:1px solid #e0e0e0}.card-wrapper .card-wrap .card-body .form-item .input[data-v-3b515046]{flex:1;height:45px;line-height:45px;padding:0 14px;color:#333}.card-wrapper .card-wrap .card-body .form-item .country-code[data-v-3b515046]{width:60px;height:45px;line-height:45px;color:#333;text-align:center;border-right:1px solid #e0e0e0}.card-wrapper .card-wrap .card-body .form-item .btn-send[data-v-3b515046]{height:45px;line-height:45px;padding:0 15px;color:#003ab5;cursor:pointer;text-align:center;border-left:1px solid #e0e0e0}.card-wrapper .card-wrap .card-body .form-item .btn-send.disabled[data-v-3b515046]{cursor:default;color:#757575}.card-wrapper .card-wrap .card-body .form-item .btn-primary[data-v-3b515046]{background-color:#ff6700;height:45px;line-height:45px;margin-bottom:14px;color:#fff;cursor:pointer;width:100%}.card-wrapper .card-wrap .card-body .form-item .btn-primary.disabled[data-v-3b515046]{opacity:.5;cursor:not-allowed}.card-wrapper .card-wrap .card-body .form-item.border-none[data-v-3b515046]{border:none}.card-wrapper .card-wrap .card-body .form-item.agreement[data-v-3b515046]{height:20px;line-height:20px;margin-bottom:18px;margin-top:24px}.card-wrapper .card-wrap .card-body .form-item.agreement uni-label[data-v-3b515046]{color:#999}.card-wrapper .card-wrap .card-body .form-item.agreement uni-label uni-checkbox[data-v-3b515046]{-webkit-transform:scale(.65);transform:scale(.65);margin-left:-3px}.card-wrapper .card-wrap .card-body .form-item.agreement .link[data-v-3b515046]{color:#003ab5}.card-wrapper .card-wrap .card-footer[data-v-3b515046]{justify-content:flex-end;font-size:12px}.card-wrapper .card-wrap .card-footer .question[data-v-3b515046]{color:#999}.card-wrapper .card-wrap .card-footer .link[data-v-3b515046]{color:#ff6700}.copyright[data-v-3b515046]{position:fixed;bottom:20px;left:0;right:0;padding:10px;color:#757575;text-align:center}body.?%PAGE?%[data-v-3b515046]{background-color:#f5f5f5}',""]),a.exports=r},"1d5c":function(a,r,e){var t=e("1bf5");"string"===typeof t&&(t=[[a.i,t,""]]),t.locals&&(a.exports=t.locals);var i=e("4f06").default;i("6e1690ea",t,!0,{sourceMap:!1,shadowMode:!1})},"2db8":function(a,r,e){"use strict";e.r(r);var t=e("2ddd"),i=e("7e4d");for(var n in i)"default"!==n&&function(a){e.d(r,a,(function(){return i[a]}))}(n);e("51e1");var d,o=e("f0c5"),s=Object(o["a"])(i["default"],t["b"],t["c"],!1,null,"3b515046",null,!1,t["a"],d);r["default"]=s.exports},"2ddd":function(a,r,e){"use strict";var t;e.d(r,"b",(function(){return i})),e.d(r,"c",(function(){return n})),e.d(r,"a",(function(){return t}));var i=function(){var a=this,r=a.$createElement,t=a._self._c||r;return t("v-uni-view",[t("v-uni-view",{staticClass:"card-wrapper"},[t("v-uni-view",{staticClass:"card-wrap"},[t("v-uni-view",{staticClass:"card-header"},[t("v-uni-navigator",{staticStyle:{cursor:"pointer"},attrs:{url:"/pages/index"}},[t("img",{staticClass:"logo",attrs:{src:e("9512")}})]),t("v-uni-view",{staticClass:"title"},[a._v("注册账号")])],1),t("v-uni-form",{staticClass:"card-body",on:{submit:function(r){arguments[0]=r=a.$handleEvent(r),a.register.apply(void 0,arguments)}}},[t("v-uni-view",{staticClass:"form-item"},[t("v-uni-view",{staticClass:"country-code"},[a._v("+86")]),t("v-uni-input",{staticClass:"input",attrs:{placeholder:"手机号码",name:"phone",maxlength:"11",type:"number"},model:{value:a.phone,callback:function(r){a.phone=r},expression:"phone"}})],1),t("v-uni-view",{staticClass:"form-item"},[t("v-uni-input",{staticClass:"input",attrs:{placeholder:"短信验证码",name:"captcha",maxlength:"6",type:"number"}}),t("v-uni-view",{staticClass:"btn-send",class:{disabled:a.sendCode.disabled},on:{click:function(r){arguments[0]=r=a.$handleEvent(r),a.sendSMSCode.apply(void 0,arguments)}}},[a._v(a._s(a.sendCode.text))])],1),t("v-uni-view",{staticClass:"form-item"},[t("v-uni-input",{staticClass:"input",attrs:{placeholder:"请输入密码",name:"password",maxlength:"20",password:!0}})],1),t("v-uni-view",{staticClass:"form-item"},[t("v-uni-input",{staticClass:"input",attrs:{placeholder:"再次输入密码",name:"passwordRepeat",maxlength:"20",password:!0}})],1),t("v-uni-view",{staticClass:"form-item border-none agreement"},[t("v-uni-label",[t("v-uni-checkbox-group",{on:{change:function(r){arguments[0]=r=a.$handleEvent(r),a.agreeChange.apply(void 0,arguments)}}},[t("v-uni-checkbox",{attrs:{color:"#FF6700",value:"agree"}})],1),t("v-uni-text",[a._v("已阅读并同意")])],1),t("a",{staticClass:"link",attrs:{href:"/pages/user/register/agreement",target:"_blank"}},[a._v("《注册协议》")])],1),t("v-uni-view",{staticClass:"form-item border-none",attrs:{title:a.agreed?"":"请阅读并同意注册协议"}},[t("v-uni-button",{class:["btn-primary",{disabled:!a.agreed}],attrs:{"form-type":"submit"}},[a._v("立即注册")])],1)],1),t("v-uni-view",{staticClass:"card-footer"},[t("v-uni-text",{staticClass:"question"},[a._v("已有账号？")]),t("v-uni-navigator",{staticClass:"link",attrs:{url:"/pages/user/login/index"}},[a._v("去登录")])],1)],1)],1),t("v-uni-view",{staticClass:"copyright"},[a._v("小米公司版权所有-京公网安备xxxxxxxxx号")])],1)},n=[]},"4a50":function(a,r,e){"use strict";e("d3b7"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var t={data:function(){return{phone:"",sendCode:{text:"获取验证码",disabled:!1},agreed:!1}},methods:{sendSMSCode:function(){var a=this;if(!this.sendCode.disabled){if(!this.$regular.phoneNumber.test(this.phone))return this.$util.showErrorMsg("请输入正确的手机号");this.sendCode.disabled=!0,this.sendCode.text="发送中...",new Promise((function(r,e){a.$util.request("/register/sendSMSCaptcha",{phone:a.phone},(function(a){"ok"==a.state?r():e(a.msg)}))})).then((function(){var r=60,e=setInterval((function(){r<=0?(clearInterval(e),a.sendCode.disabled=!1,a.sendCode.text="重新发送"):(a.sendCode.text="重新发送（".concat(r,"）"),r--)}),1e3)})).catch((function(r){a.$util.showErrorMsg(r),a.sendCode.disabled=!1,a.sendCode.text="重新发送"}))}},agreeChange:function(a){this.agreed=a.detail.value.length>0},register:function(a){var r=this;if(this.agreed){var e=a.detail.value;this.checkForm(e)&&(uni.showLoading({title:"处理中...",mask:!0}),this.$util.request("/register",e,(function(a){uni.hideLoading(),"ok"==a.state?(r.$store.commit("login",a.loginUser),r.$cart.syncCart(),uni.redirectTo({url:r.callbackUrl||"/pages/index"})):r.$util.showErrorMsg(a.msg)})))}},checkForm:function(a){return this.$regular.phoneNumber.test(a.phone)?this.$regular.captcha.test(a.captcha)?this.$regular.password.test(a.password)?a.passwordRepeat==a.password||this.$util.showErrorMsg("密码输入不一致"):this.$util.showErrorMsg("密码格式错误"):this.$util.showErrorMsg("验证码格式错误"):this.$util.showErrorMsg("手机号格式错误")}}};r.default=t},"51e1":function(a,r,e){"use strict";var t=e("1d5c"),i=e.n(t);i.a},"7e4d":function(a,r,e){"use strict";e.r(r);var t=e("4a50"),i=e.n(t);for(var n in t)"default"!==n&&function(a){e.d(r,a,(function(){return t[a]}))}(n);r["default"]=i.a},9512:function(a,r){a.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADgAAAA5CAYAAABj2ui7AAABS2lUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxMzggNzkuMTU5ODI0LCAyMDE2LzA5LzE0LTAxOjA5OjAxICAgICAgICAiPgogPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIi8+CiA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgo8P3hwYWNrZXQgZW5kPSJyIj8+IEmuOgAAAc1JREFUaIHtm00oBVEUgL83z+ghpeQvFgopSnY2ZGWhFAtrpSyUUjYslMhCNrbKXrKzehYkJSvZyE9SCokVUfLCe2PxEuMN5jbzjDPut7vnnrnnfs2989M0EWsw3yKaAFKECwOSMYxwygGkIJrACKfcGymMoKeQbbSgdLSgdLSgdLSgdLSgdLSgdEIvmKOU3dAJHWPeqyaf4O4KjtdhdznddqJrGmra7LG1WThcdV1KTbCsHuralQ75lpY+6JyAhR64Osjsr2nLrLe3oiQY/BItqYXhDSiqysrwwQsCFJZC90xWhlZbol+RuAfL+jkvakJuvnNfcy8sDcLTgy9TesO74Ok2zLW6z69sgv4lKG+wx80YFFc770UPeF+iyRe1/Ms9WBxw7ouanqfzmWD24NnOr5UKRjCleNY94M9F5iMVjTC+b489J2Akz/dSbvD/DDrtIzPmexm3/I37YBbRgtLRgtLRgtLRgtIJvaDas+jJJsSn7LHrI3v79gLik0DkPfb8mDnWyijkFnwIWHBzbs/Zmk/X/DwHBSLWEC5exeUS+iWqBaWjBaWjBaWjBaWjBaWjBaXzHwTD7GhgkIwRTsn0bwU5WCa8+P/h8a/wCsZLV3oUDJkFAAAAAElFTkSuQmCC"}}]);