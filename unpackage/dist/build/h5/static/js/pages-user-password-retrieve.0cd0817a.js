(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-user-password-retrieve"],{"2bc9":function(t,a,r){"use strict";r("d3b7"),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var e={data:function(){return{account:"",sendCode:{text:"获取验证码",disabled:!1}}},methods:{sendCaptcha:function(){var t=this;if(!this.sendCode.disabled){if(!this.$regular.phoneNumber.test(this.account)&&!this.$regular.email.test(this.account))return this.$util.showErrorMsg("该账号不存在");this.sendCode.disabled=!0,this.sendCode.text="发送中...",new Promise((function(a,r){t.$util.request("/security/sendCaptchaForRetrievePwd",{account:t.account},(function(t){"ok"==t.state?a():r(t.msg)}))})).then((function(){var a=60,r=setInterval((function(){a<=0?(clearInterval(r),t.sendCode.disabled=!1,t.sendCode.text="重新发送"):(t.sendCode.text="重新发送（".concat(a,"）"),a--)}),1e3)})).catch((function(a){t.$util.showErrorMsg(a),t.sendCode.disabled=!1,t.sendCode.text="重新发送"}))}},retrieve:function(t){var a=this,r=t.detail.value;this.checkForm(r)&&(uni.showLoading({title:"处理中...",mask:!0}),this.$util.request("/security/retrievePassword",r,(function(t){uni.hideLoading(),"ok"==t.state?a.$alert("密码重置成功！",{showCancel:!1,confirmText:"立即去登录"},(function(){uni.redirectTo({url:"/pages/user/login/index"})})):a.$util.showErrorMsg(t.msg)})))},checkForm:function(t){return this.$regular.phoneNumber.test(this.account)||this.$regular.email.test(this.account)?this.$regular.captcha.test(t.captcha)?this.$regular.password.test(t.password)?t.passwordRepeat==t.password||this.$util.showErrorMsg("密码输入不一致"):this.$util.showErrorMsg("密码格式错误"):this.$util.showErrorMsg("验证码错误"):this.$util.showErrorMsg("该账号不存在")}}};a.default=e},"5a42":function(t,a,r){"use strict";var e=r("ce42"),i=r.n(e);i.a},9512:function(t,a){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADgAAAA5CAYAAABj2ui7AAABS2lUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxMzggNzkuMTU5ODI0LCAyMDE2LzA5LzE0LTAxOjA5OjAxICAgICAgICAiPgogPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIi8+CiA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgo8P3hwYWNrZXQgZW5kPSJyIj8+IEmuOgAAAc1JREFUaIHtm00oBVEUgL83z+ghpeQvFgopSnY2ZGWhFAtrpSyUUjYslMhCNrbKXrKzehYkJSvZyE9SCokVUfLCe2PxEuMN5jbzjDPut7vnnrnnfs2989M0EWsw3yKaAFKECwOSMYxwygGkIJrACKfcGymMoKeQbbSgdLSgdLSgdLSgdLSgdLSgdEIvmKOU3dAJHWPeqyaf4O4KjtdhdznddqJrGmra7LG1WThcdV1KTbCsHuralQ75lpY+6JyAhR64Osjsr2nLrLe3oiQY/BItqYXhDSiqysrwwQsCFJZC90xWhlZbol+RuAfL+jkvakJuvnNfcy8sDcLTgy9TesO74Ok2zLW6z69sgv4lKG+wx80YFFc770UPeF+iyRe1/Ms9WBxw7ouanqfzmWD24NnOr5UKRjCleNY94M9F5iMVjTC+b489J2Akz/dSbvD/DDrtIzPmexm3/I37YBbRgtLRgtLRgtLRgtIJvaDas+jJJsSn7LHrI3v79gLik0DkPfb8mDnWyijkFnwIWHBzbs/Zmk/X/DwHBSLWEC5exeUS+iWqBaWjBaWjBaWjBaWjBaWjBaXzHwTD7GhgkIwRTsn0bwU5WCa8+P/h8a/wCsZLV3oUDJkFAAAAAElFTkSuQmCC"},"9a96":function(t,a,r){"use strict";r.r(a);var e=r("2bc9"),i=r.n(e);for(var d in e)"default"!==d&&function(t){r.d(a,t,(function(){return e[t]}))}(d);a["default"]=i.a},a26f:function(t,a,r){"use strict";var e;r.d(a,"b",(function(){return i})),r.d(a,"c",(function(){return d})),r.d(a,"a",(function(){return e}));var i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("v-uni-view",[e("v-uni-view",{staticClass:"card-wrapper"},[e("v-uni-view",{staticClass:"card-wrap"},[e("v-uni-view",{staticClass:"card-header"},[e("v-uni-navigator",{staticStyle:{cursor:"pointer"},attrs:{url:"/pages/index"}},[e("img",{staticClass:"logo",attrs:{src:r("9512")}})]),e("v-uni-view",{staticClass:"title"},[t._v("找回密码")])],1),e("v-uni-form",{staticClass:"card-body",on:{submit:function(a){arguments[0]=a=t.$handleEvent(a),t.retrieve.apply(void 0,arguments)}}},[e("v-uni-view",{staticClass:"form-item"},[e("v-uni-input",{staticClass:"input",attrs:{placeholder:"邮箱/手机号码",name:"account",maxlength:"30"},model:{value:t.account,callback:function(a){t.account=a},expression:"account"}})],1),e("v-uni-view",{staticClass:"form-item"},[e("v-uni-input",{staticClass:"input",attrs:{placeholder:"验证码",name:"captcha",maxlength:"6",type:"number"}}),e("v-uni-view",{staticClass:"btn-send",class:{disabled:t.sendCode.disabled},on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.sendCaptcha.apply(void 0,arguments)}}},[t._v(t._s(t.sendCode.text))])],1),e("v-uni-view",{staticClass:"form-item"},[e("v-uni-input",{staticClass:"input",attrs:{placeholder:"请输入新密码",name:"password",maxlength:"20",password:!0}})],1),e("v-uni-view",{staticClass:"form-item"},[e("v-uni-input",{staticClass:"input",attrs:{placeholder:"再次输入密码",name:"passwordRepeat",maxlength:"20",password:!0}})],1),e("v-uni-view",{staticClass:"form-item border-none"},[e("v-uni-button",{staticClass:"btn-primary",attrs:{"form-type":"submit"}},[t._v("立即提交")])],1)],1),e("v-uni-view",{staticClass:"card-footer"},[e("v-uni-text",{staticClass:"question"},[t._v("已知密码？")]),e("v-uni-navigator",{staticClass:"link",attrs:{url:"/pages/user/login/index"}},[t._v("返回登录")])],1)],1)],1),e("v-uni-view",{staticClass:"copyright"},[t._v("小米公司版权所有-京公网安备xxxxxxxxx号")])],1)},d=[]},b63f:function(t,a,r){"use strict";r.r(a);var e=r("a26f"),i=r("9a96");for(var d in i)"default"!==d&&function(t){r.d(a,t,(function(){return i[t]}))}(d);r("5a42");var n,o=r("f0c5"),s=Object(o["a"])(i["default"],e["b"],e["c"],!1,null,"18b904d3",null,!1,e["a"],n);a["default"]=s.exports},cbd3:function(t,a,r){var e=r("24fb");a=e(!1),a.push([t.i,'@charset "UTF-8";\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 页面宽度 */.card-wrapper .card-wrap .card-body .form-item[data-v-18b904d3], .card-wrapper .card-wrap .card-footer[data-v-18b904d3]{display:flex;align-items:center}uni-page-body[data-v-18b904d3]{background-color:#f5f5f5}.card-wrapper[data-v-18b904d3]{width:660px;margin:80px auto;background-color:#fff}.card-wrapper .card-wrap[data-v-18b904d3]{width:332px;margin:0 auto;padding-bottom:20px}.card-wrapper .card-wrap .card-header[data-v-18b904d3]{text-align:center}.card-wrapper .card-wrap .card-header .logo[data-v-18b904d3]{width:48px;height:48px;margin-bottom:40px}.card-wrapper .card-wrap .card-header .title[data-v-18b904d3]{font-size:30px;color:#333;line-height:1.5}.card-wrapper .card-wrap .card-body[data-v-18b904d3]{display:block;margin-top:22px}.card-wrapper .card-wrap .card-body .form-item[data-v-18b904d3]{height:45px;line-height:45px;margin-bottom:14px;border:1px solid #e0e0e0}.card-wrapper .card-wrap .card-body .form-item .input[data-v-18b904d3]{flex:1;height:45px;line-height:45px;padding:0 14px;color:#333}.card-wrapper .card-wrap .card-body .form-item .country-code[data-v-18b904d3]{width:60px;height:45px;line-height:45px;color:#333;text-align:center;border-right:1px solid #e0e0e0}.card-wrapper .card-wrap .card-body .form-item .btn-send[data-v-18b904d3]{height:45px;line-height:45px;padding:0 15px;color:#003ab5;cursor:pointer;text-align:center;border-left:1px solid #e0e0e0}.card-wrapper .card-wrap .card-body .form-item .btn-send.disabled[data-v-18b904d3]{cursor:default;color:#757575}.card-wrapper .card-wrap .card-body .form-item .btn-primary[data-v-18b904d3]{background-color:#ff6700;height:45px;line-height:45px;margin-top:20px;margin-bottom:14px;color:#fff;cursor:pointer;width:100%}.card-wrapper .card-wrap .card-body .form-item.border-none[data-v-18b904d3]{border:none}.card-wrapper .card-wrap .card-footer[data-v-18b904d3]{justify-content:flex-end;font-size:12px}.card-wrapper .card-wrap .card-footer .question[data-v-18b904d3]{color:#999}.card-wrapper .card-wrap .card-footer .link[data-v-18b904d3]{color:#ff6700}.copyright[data-v-18b904d3]{position:fixed;bottom:20px;left:0;right:0;padding:10px;color:#757575;text-align:center}body.?%PAGE?%[data-v-18b904d3]{background-color:#f5f5f5}',""]),t.exports=a},ce42:function(t,a,r){var e=r("cbd3");"string"===typeof e&&(e=[[t.i,e,""]]),e.locals&&(t.exports=e.locals);var i=r("4f06").default;i("139baa56",e,!0,{sourceMap:!1,shadowMode:!1})}}]);