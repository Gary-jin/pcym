(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-user-register-index"],{"0445":function(e,a,r){"use strict";var t=r("b2c1"),i=r.n(t);i.a},"8ef8":function(e,a,r){"use strict";r.r(a);var t=r("95a6"),i=r.n(t);for(var d in t)"default"!==d&&function(e){r.d(a,e,(function(){return t[e]}))}(d);a["default"]=i.a},"95a6":function(e,a,r){"use strict";var t=r("4ea4");r("d3b7"),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var i=t(r("5530")),d=r("26cb"),o={data:function(){return{mobile:"",sendCode:{text:"获取验证码",disabled:!1},agreed:!1}},methods:(0,i.default)((0,i.default)({},(0,d.mapActions)(["getUserInfo","setTokenAndBack"])),{},{sendSMSCode:function(){var e=this;if(!this.sendCode.disabled){if(!this.$regular.phoneNumber.test(this.mobile))return this.$util.showErrorMsg("请输入正确的手机号");this.sendCode.disabled=!0,this.sendCode.text="发送中...",new Promise((function(a,r){e.$http("user.send",{mobile:e.mobile,event:"register"},"").then((function(t){1===t.code?(a(),e.$util.showErrorMsg(t.msg)):r(t.msg)}))})).then((function(){var a=60,r=setInterval((function(){a<=0?(clearInterval(r),e.sendCode.disabled=!1,e.sendCode.text="重新发送"):(e.sendCode.text="重新发送（".concat(a,"）"),a--)}),1e3)})).catch((function(a){e.$util.showErrorMsg(a),e.sendCode.disabled=!1,e.sendCode.text="重新发送"}))}},agreeChange:function(e){this.agreed=e.detail.value.length>0},register:function(e){var a=this;if(this.agreed){var r=e.detail.value;this.checkForm(r)&&(uni.showLoading({title:"处理中...",mask:!0}),this.$http("user.register",r,"").then((function(e){uni.hideLoading(),1===e.code?(a.getUserInfo(e.data.userinfo.token),a.setTokenAndBack()):a.$util.showErrorMsg(e.msg)})))}},checkForm:function(e){return this.$regular.phoneNumber.test(e.mobile)?this.$regular.captcha.test(e.code)?this.$regular.password.test(e.password)?e.passwordRepeat==e.password||this.$util.showErrorMsg("密码输入不一致"):this.$util.showErrorMsg("密码格式错误"):this.$util.showErrorMsg("验证码格式错误"):this.$util.showErrorMsg("手机号格式错误")}})};a.default=o},"98ef":function(e,a,r){var t=r("24fb"),i=r("1de5"),d=r("ffa4");a=t(!1);var o=i(d);a.push([e.i,'@charset "UTF-8";\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 页面宽度 */.card-wrapper .card-wrap .card-body .form-item[data-v-80ed3fc0], .card-wrapper .card-wrap .card-body .form-item.agreement uni-label[data-v-80ed3fc0], .card-wrapper .card-wrap .card-footer[data-v-80ed3fc0]{display:flex;align-items:center}.bgBox[data-v-80ed3fc0]{background-image:url('+o+");background-size:100% 100%;width:100%;height:100vh;overflow:hidden;display:flex;align-items:center}.card-wrapper[data-v-80ed3fc0]{background-color:#fff;width:470px;margin-left:230px;overflow:hidden;border-radius:15px}.card-wrapper .card-wrap[data-v-80ed3fc0]{width:332px;margin:40px auto;padding-bottom:20px}.card-wrapper .card-wrap .card-header[data-v-80ed3fc0]{text-align:center}.card-wrapper .card-wrap .card-header .logo[data-v-80ed3fc0]{width:60px;height:60px;margin-bottom:40px}.card-wrapper .card-wrap .card-header .title[data-v-80ed3fc0]{font-size:30px;color:#333;line-height:1.5}.card-wrapper .card-wrap .card-body[data-v-80ed3fc0]{display:block;margin-top:22px}.card-wrapper .card-wrap .card-body .form-item[data-v-80ed3fc0]{height:45px;line-height:45px;margin-bottom:14px;border:1px solid #e0e0e0}.card-wrapper .card-wrap .card-body .form-item .input[data-v-80ed3fc0]{flex:1;height:45px;line-height:45px;padding:0 14px;color:#333}.card-wrapper .card-wrap .card-body .form-item .country-code[data-v-80ed3fc0]{width:60px;height:45px;line-height:45px;color:#333;text-align:center;border-right:1px solid #e0e0e0}.card-wrapper .card-wrap .card-body .form-item .btn-send[data-v-80ed3fc0]{height:45px;line-height:45px;padding:0 15px;color:#003ab5;cursor:pointer;text-align:center;border-left:1px solid #e0e0e0}.card-wrapper .card-wrap .card-body .form-item .btn-send.disabled[data-v-80ed3fc0]{cursor:default;color:#757575}.card-wrapper .card-wrap .card-body .form-item .btn-primary[data-v-80ed3fc0]{background-color:#4088ff;height:45px;line-height:45px;margin-bottom:14px;color:#fff;cursor:pointer;width:100%}.card-wrapper .card-wrap .card-body .form-item .btn-primary.disabled[data-v-80ed3fc0]{opacity:.5;cursor:not-allowed}.card-wrapper .card-wrap .card-body .form-item.border-none[data-v-80ed3fc0]{border:none}.card-wrapper .card-wrap .card-body .form-item.agreement[data-v-80ed3fc0]{height:20px;line-height:20px;margin-bottom:18px;margin-top:24px}.card-wrapper .card-wrap .card-body .form-item.agreement uni-label[data-v-80ed3fc0]{color:#999}.card-wrapper .card-wrap .card-body .form-item.agreement uni-label uni-checkbox[data-v-80ed3fc0]{-webkit-transform:scale(.65);transform:scale(.65);margin-left:-3px}.card-wrapper .card-wrap .card-body .form-item.agreement .link[data-v-80ed3fc0]{color:#003ab5}.card-wrapper .card-wrap .card-footer[data-v-80ed3fc0]{justify-content:flex-end;font-size:12px}.card-wrapper .card-wrap .card-footer .question[data-v-80ed3fc0]{color:#999}.card-wrapper .card-wrap .card-footer .link[data-v-80ed3fc0]{color:#4088ff}.copyright[data-v-80ed3fc0]{position:fixed;bottom:20px;left:0;right:0;padding:10px;color:#757575;text-align:center}",""]),e.exports=a},"9fdd":function(e,a,r){"use strict";r.r(a);var t=r("af79"),i=r("8ef8");for(var d in i)"default"!==d&&function(e){r.d(a,e,(function(){return i[e]}))}(d);r("0445");var o,n=r("f0c5"),c=Object(n["a"])(i["default"],t["b"],t["c"],!1,null,"80ed3fc0",null,!1,t["a"],o);a["default"]=c.exports},af79:function(e,a,r){"use strict";var t;r.d(a,"b",(function(){return i})),r.d(a,"c",(function(){return d})),r.d(a,"a",(function(){return t}));var i=function(){var e=this,a=e.$createElement,r=e._self._c||a;return r("v-uni-view",{staticClass:"bgBox"},[r("v-uni-view",{staticClass:"card-wrapper"},[r("v-uni-view",{staticClass:"card-wrap"},[r("v-uni-view",{staticClass:"card-header"},[r("v-uni-navigator",{staticStyle:{cursor:"pointer"},attrs:{url:"/pages/index"}},[r("v-uni-image",{staticClass:"logo",attrs:{src:"/static/image/common/logo.png"}})],1),r("v-uni-view",{staticClass:"title"},[e._v("注册账号")])],1),r("v-uni-form",{staticClass:"card-body",on:{submit:function(a){arguments[0]=a=e.$handleEvent(a),e.register.apply(void 0,arguments)}}},[r("v-uni-view",{staticClass:"form-item"},[r("v-uni-view",{staticClass:"country-code"},[e._v("+86")]),r("v-uni-input",{staticClass:"input",attrs:{placeholder:"手机号码",name:"mobile",maxlength:"11",type:"number"},model:{value:e.mobile,callback:function(a){e.mobile=a},expression:"mobile"}})],1),r("v-uni-view",{staticClass:"form-item"},[r("v-uni-input",{staticClass:"input",attrs:{placeholder:"短信验证码",name:"code",maxlength:"6",type:"number"}}),r("v-uni-view",{staticClass:"btn-send",class:{disabled:e.sendCode.disabled},on:{click:function(a){arguments[0]=a=e.$handleEvent(a),e.sendSMSCode.apply(void 0,arguments)}}},[e._v(e._s(e.sendCode.text))])],1),r("v-uni-view",{staticClass:"form-item"},[r("v-uni-input",{staticClass:"input",attrs:{placeholder:"请输入密码",name:"password",maxlength:"20",password:!0}})],1),r("v-uni-view",{staticClass:"form-item"},[r("v-uni-input",{staticClass:"input",attrs:{placeholder:"再次输入密码",name:"passwordRepeat",maxlength:"20",password:!0}})],1),r("v-uni-view",{staticClass:"form-item border-none agreement"},[r("v-uni-label",[r("v-uni-checkbox-group",{on:{change:function(a){arguments[0]=a=e.$handleEvent(a),e.agreeChange.apply(void 0,arguments)}}},[r("v-uni-checkbox",{attrs:{color:"#FF6700",value:"agree"}})],1),r("v-uni-text",[e._v("已阅读并同意")])],1),r("a",{staticClass:"link",attrs:{href:"/pages/user/register/agreement",target:"_blank"}},[e._v("《注册协议》")])],1),r("v-uni-view",{staticClass:"form-item border-none",attrs:{title:e.agreed?"":"请阅读并同意注册协议"}},[r("v-uni-button",{class:["btn-primary",{disabled:!e.agreed}],attrs:{"form-type":"submit"}},[e._v("立即注册")])],1)],1),r("v-uni-view",{staticClass:"card-footer"},[r("v-uni-text",{staticClass:"question"},[e._v("已有账号？")]),r("v-uni-navigator",{staticClass:"link",attrs:{url:"/pages/user/login/index"}},[e._v("去登录")])],1)],1)],1)],1)},d=[]},b2c1:function(e,a,r){var t=r("98ef");"string"===typeof t&&(t=[[e.i,t,""]]),t.locals&&(e.exports=t.locals);var i=r("4f06").default;i("162dd8df",t,!0,{sourceMap:!1,shadowMode:!1})},ffa4:function(e,a,r){e.exports=r.p+"static/img/loginBg.2e6dc352.png"}}]);